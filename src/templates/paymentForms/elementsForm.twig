<script type="text/javascript">
    window.csrfTokenName = "{{ craft.app.config.general.csrfTokenName }}";
    window.csrfTokenValue = "{{ craft.app.request.csrfToken }}";
</script>
<div class="stripe-payment-elements-form hidden"
     data-publishablekey="{{ parseEnv(gateway.getPublishableKey()) }}"
     data-complete-payment-action-url="{{ actionUrl('commerce/payments/complete-payment') }}"
     data-confirm-setup-intent-url="{{ actionUrl('commerce-stripe/customers/confirm-setup-intent') }}"
     data-payment-form-namespace="{{ handle|commercePaymentFormNamespace }}"
     data-gateway-id="{{ gateway.id }}"
     data-appearance="{{ appearance|json_encode }}"
     data-element-options="{{ elementOptions|json_encode }}"
     data-client-secret="{{ clientSecret }}"
>
    {{ hiddenInput('paymentFormType', 'elements') }}

    <div class="hidden stripe-error-message {{ errorMessageClasses }}">
        {# Display error message to your customers here #}
    </div>
    <div class="stripe-payment-form">
        <div class="stripe-payment-element">
            {# Elements will create form elements here #}
        </div>

        <button class="stripe-payment-elements-submit-button {{ submitButtonClasses }}">{{ submitButtonText }}</button>
    </div>
</div>
